<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Diet Coach</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            padding: 30px;
        }
        .container {
            max-width: 650px;
            margin: auto;
            background: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 0 12px rgba(0,0,0,0.1);
        }
        h2 {
            text-align: center;
            color: #2c3e50;
        }
        label {
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 8px;
            margin: 6px 0 15px 0;
        }
        button {
            width: 100%;
            padding: 12px;
            background: #27ae60;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        button:hover {
            background: #219150;
        }
        .report {
            margin-top: 20px;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 6px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>üçé AI Diet Coach</h2>

    <label>Food eaten (use underscore for spaces)</label>
    <input id="food" placeholder="e.g., rice, paneer_curry, boiled_egg">

    <label>Servings</label>
    <input type="number" id="quantity">

    <label>Meals skipped today</label>
    <input type="number" id="skipped">

    <label>Weight (kg)</label>
    <input type="number" id="weight">

    <label>Height (cm)</label>
    <input type="number" id="height">

    <button onclick="aiDietCoach()">Analyze Diet</button>

    <div class="report" id="report"></div>
</div>

<script>
/* -----------------------------
   TEXT TO SPEECH
----------------------------- */
function speak(text) {
    const msg = new SpeechSynthesisUtterance(text);
    msg.rate = 0.9;
    msg.volume = 1;
    window.speechSynthesis.speak(msg);
}

/* -----------------------------
   CALORIE DATABASE (EXTENDED)
----------------------------- */
const calorieDB = {
    // Staples
    rice: 200,
    brown_rice: 170,
    chapati: 100,
    roti: 100,
    naan: 260,
    paratha: 180,

    // Indian foods
    dal: 180,
    rajma: 220,
    chole: 240,
    paneer_curry: 320,
    curd: 90,
    idli: 60,
    dosa: 170,
    vada: 140,
    sambar: 120,
    poha: 150,
    upma: 180,
    khichdi: 210,
    biryani: 350,

    // Fast food
    pizza: 300,
    burger: 320,
    fries: 260,
    noodles: 250,
    pasta: 280,
    sandwich: 230,
    momos: 220,

    // Healthy
    salad: 80,
    soup: 120,
    sprouts: 100,
    boiled_egg: 78,
    omelette: 120,

    // Fruits
    apple: 95,
    banana: 105,
    orange: 60,
    mango: 135,
    grapes: 70,
    papaya: 55,

    // Drinks
    milk: 150,
    tea: 70,
    coffee: 90,
    juice: 120,
    soft_drink: 140,

    // Snacks
    biscuit: 90,
    chocolate: 210,
    cake: 280,
    ice_cream: 200
};

/* -----------------------------
   FUNCTIONS
----------------------------- */
function calculateBMI(weight, heightCm) {
    let h = heightCm / 100;
    return (weight / (h * h)).toFixed(2);
}

function healthyAlternative(food) {
    if (food === "pizza" || food === "burger")
        return "Try chapati, dal, and vegetables instead of junk food.";
    if (food === "noodles")
        return "Try poha or upma instead of noodles.";
    return "Good choice! Add fruits or vegetables.";
}

function balancedDiet(bmi) {
    if (bmi < 18.5)
        return "You are underweight. Add protein-rich foods like eggs, dairy, and dal.";
    else if (bmi <= 24.9)
        return "Your BMI is healthy. Maintain a balanced diet.";
    else
        return "You are overweight. Reduce junk foods and increase vegetables.";
}

function hydrationAdvice(skipped) {
    if (skipped >= 1)
        return "Since you skipped a meal, drink more water to maintain energy.";
    return "Great! Drink at least six to eight glasses of water daily.";
}

/* -----------------------------
   MAIN AI COACH
----------------------------- */
function aiDietCoach() {
    const food = document.getElementById("food").value.toLowerCase();
    const quantity = parseInt(document.getElementById("quantity").value);
    const skipped = parseInt(document.getElementById("skipped").value);
    const weight = parseFloat(document.getElementById("weight").value);
    const height = parseFloat(document.getElementById("height").value);

    const bmi = calculateBMI(weight, height);
    const calories = calorieDB[food] ? calorieDB[food] * quantity : null;
    const alt = healthyAlternative(food);
    const diet = balancedDiet(bmi);
    const water = hydrationAdvice(skipped);

    document.getElementById("report").innerHTML = `
        <b>BMI:</b> ${bmi}<br>
        <b>Estimated Calories:</b> ${calories ? calories + " kcal" : "Not available"}<br><br>
        <b>Healthy Alternative:</b> ${alt}<br>
        <b>Diet Advice:</b> ${diet}<br>
        <b>Hydration Tip:</b> ${water}
    `;

    speak("Your body mass index is " + bmi);
    if (calories)
        speak("Your estimated calorie intake is " + calories + " kilo calories");
    else
        speak("Calorie information is not available for this food");
    speak(alt);
    speak(diet);
    speak(water);
}
</script>

</body>
</html>
