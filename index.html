<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Diet Coach</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            padding: 30px;
        }
        .container {
            max-width: 700px;
            margin: auto;
            background: #ffffff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 0 12px rgba(0,0,0,0.1);
        }
        h2 {
            text-align: center;
            color: #2c3e50;
        }
        label {
            font-weight: bold;
        }
        input {
            width: 100%;
            padding: 8px;
            margin: 6px 0 15px 0;
        }
        button {
            width: 100%;
            padding: 12px;
            background: #27ae60;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
        button:hover {
            background: #219150;
        }
        .report {
            margin-top: 20px;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 6px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>üçé AI Diet Coach</h2>

    <label>Food eaten (comma separated, use underscore)</label>
    <input id="food" placeholder="rice, paneer_curry, boiled_egg">

    <label>Servings (per food)</label>
    <input type="number" id="quantity" value="1">

    <label>Meals skipped today</label>
    <input type="number" id="skipped" value="0">

    <label>Weight (kg)</label>
    <input type="number" id="weight">

    <label>Height (cm)</label>
    <input type="number" id="height">

    <button onclick="aiDietCoach()">Analyze Diet</button>

    <div class="report" id="report"></div>
</div>

<script>
/* TEXT TO SPEECH */
function speak(text) {
    const msg = new SpeechSynthesisUtterance(text);
    msg.rate = 0.9;
    msg.volume = 1;
    window.speechSynthesis.speak(msg);
}

/* CALORIE DATABASE */
const calorieDB = {
    rice: 200,
    brown_rice: 170,
    chapati: 100,
    roti: 100,
    naan: 260,
    paratha: 180,
    dal: 180,
    rajma: 220,
    chole: 240,
    paneer_curry: 320,
    curd: 90,
    idli: 60,
    dosa: 170,
    poha: 150,
    upma: 180,
    khichdi: 210,
    biryani: 350,
    pizza: 300,
    burger: 320,
    noodles: 250,
    pasta: 280,
    sandwich: 230,
    momos: 220,
    salad: 80,
    soup: 120,
    sprouts: 100,
    boiled_egg: 78,
    omelette: 120,
    apple: 95,
    banana: 105,
    orange: 60,
    mango: 135,
    milk: 150,
    tea: 70,
    coffee: 90
};

/* HELPER FUNCTIONS */
function calculateBMI(weight, heightCm) {
    let h = heightCm / 100;
    return (weight / (h * h)).toFixed(2);
}

function healthyAlternative(food) {
    if (food === "pizza" || food === "burger")
        return "Avoid junk food. Choose chapati, dal, and vegetables.";
    if (food === "noodles")
        return "Try poha or upma instead of noodles.";
    return "Good food choice. Maintain balance.";
}

function balancedDiet(bmi) {
    if (bmi < 18.5)
        return "You are underweight. Increase protein and calories.";
    else if (bmi <= 24.9)
        return "Your BMI is normal. Keep a balanced diet.";
    else
        return "You are overweight. Reduce sugar and fried foods.";
}

function hydrationAdvice(skipped) {
    return skipped >= 1
        ? "Drink more water since you skipped meals."
        : "Drink 6‚Äì8 glasses of water daily.";
}

/* MAIN AI LOGIC */
function aiDietCoach() {
    const foods = document.getElementById("food").value.toLowerCase().split(",");
    const quantity = parseInt(document.getElementById("quantity").value);
    const skipped = parseInt(document.getElementById("skipped").value);
    const weight = parseFloat(document.getElementById("weight").value);
    const height = parseFloat(document.getElementById("height").value);

    let totalCalories = 0;
    let breakdown = "";

    foods.forEach(f => {
        const food = f.trim();
        if (calorieDB[food]) {
            const cal = calorieDB[food] * quantity;
            totalCalories += cal;
            breakdown += `${food.replace("_"," ")}: ${cal} kcal<br>`;
        } else {
            breakdown += `${food.replace("_"," ")}: Not available<br>`;
        }
    });

    const bmi = calculateBMI(weight, height);
    const alt = healthyAlternative(foods[0].trim());
    const diet = balancedDiet(bmi);
    const water = hydrationAdvice(skipped);

    document.getElementById("report").innerHTML = `
        <b>BMI:</b> ${bmi}<br><br>
        <b>Calorie Breakdown:</b><br>
        ${breakdown}<br>
        <b>Total Estimated Calories:</b> ${totalCalories} kcal<br><br>
        <b>Healthy Alternative:</b> ${alt}<br>
        <b>Diet Advice:</b> ${diet}<br>
        <b>Hydration Tip:</b> ${water}
    `;

    speak("Your BMI is " + bmi);
    speak("Total estimated calories are " + totalCalories + " kilo calories");
}
</script>

</body>
</html>
